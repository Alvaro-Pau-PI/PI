# ğŸ§­ Sprint 4 â€” Client SPA amb Vue i control de rols

Aquest sprint tÃ© com a objectiu consolidar la part **client** del projecte intermodular mitjanÃ§ant la creaciÃ³ dâ€™una **interfÃ­cie moderna, dinÃ mica i segura** amb **Vue.js**. 
A partir del backend ja desplegat (Laravel, API REST), sâ€™implementaran les funcionalitats principals del frontend, incloent:

- **C1.** Desenvolupament dâ€™una interfÃ­cie SPA amb components Vue i rutes dinÃ miques.
- **C2.** IntegraciÃ³ del sistema dâ€™autenticaciÃ³ i gestiÃ³ de sessions mitjanÃ§ant API.
- **C3.** GestiÃ³ de rols i permisos dâ€™usuari per a un control dâ€™accÃ©s granular.

Lâ€™objectiu Ã©s aconseguir una experiÃ¨ncia dâ€™usuari fluida i segura, respectant els principis de modularitat, escalabilitat i bones prÃ ctiques de desenvolupament web professional.

---

## Ãndex

1. [âš¡ C1. InterfÃ­cie dâ€™usuari avanÃ§ada amb Vue.js](#c1--interfÃ­cie-dusuari-avanÃ§ada-amb-vuejs)
2. [ğŸ” C2. IntegraciÃ³ de lâ€™autenticaciÃ³ mitjanÃ§ant API](#c2--integraciÃ³-de-lautenticaciÃ³-mitjanÃ§ant-api)
3. [ğŸ‘¥ C3. GestiÃ³ de rols dâ€™usuari i permisos](#c3--gestiÃ³-de-rols-dusuari-i-permisos)

---

## C1. âš¡ InterfÃ­cie dâ€™usuari avanÃ§ada amb Vue.js

### 1ï¸âƒ£ Objectius

Desenvolupar una **interfÃ­cie dâ€™usuari moderna i interactiva** basada en **Vue.js**, transformant el projecte en una **SPA (Single Page Application)**. 
Lâ€™objectiu Ã©s oferir una experiÃ¨ncia dâ€™Ãºs mÃ©s fluida, sense recÃ rregues completes de pÃ gina, amb navegaciÃ³ dinÃ mica i actualitzaciÃ³ reactiva de dades.

Aquesta implementaciÃ³ permetrÃ :

- ğŸ§© Separar clarament la **lÃ²gica**, la **presentaciÃ³** i el **comportament** del client.
- ğŸš€ Millorar la **usabilitat i velocitat** de navegaciÃ³.
- ğŸ–¥ï¸ Aconseguir una experiÃ¨ncia semblant a una aplicaciÃ³ dâ€™escriptori.

Correspon als resultats dâ€™aprenentatge:

- **DWEC RA6.h** â†’ Dissenya aplicacions SPA amb frameworks moderns.
- **DWEC RA6.c** â†’ Implementa components reutilitzables i modulars.
- **DWEC RA4.f** â†’ Aplica bones prÃ ctiques en la manipulaciÃ³ del DOM i lâ€™Ãºs dâ€™esdeveniments.

---

### 2ï¸âƒ£ Requisits previs

âœ… Node.js i npm instalÂ·lats (**v20 o superior**) 
âœ… Entorn Docker amb servei per a lâ€™API (PHP/Laravel) i MySQL 
âœ… Estructura del projecte Vue amb `vite` 
âœ… Coneixement bÃ sic de components, props, `v-model` i rutes (`vue-router`) 
âœ… Coneixement dâ€™API REST i integraciÃ³ amb `axios`

ğŸ“¦ **Estructura orientativa del projecte Vue.js:**

```text
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ assets/               # Recursos estÃ tics (imatges, icones, CSS)
â”‚   â”œâ”€â”€ components/           # Components reutilitzables (Botons, Navbar, CardProducte)
â”‚   â”œâ”€â”€ views/                # Vistes principals (Home, Productes, Perfil, Login)
â”‚   â”œâ”€â”€ router/
â”‚   â”‚   â””â”€â”€ index.js          # DefiniciÃ³ de rutes SPA
â”‚   â”œâ”€â”€ store/                # (Opcional) GestiÃ³ dâ€™estat global amb Pinia
â”‚   â”œâ”€â”€ App.vue               # Component arrel
â”‚   â””â”€â”€ main.js               # Punt dâ€™entrada de lâ€™aplicaciÃ³
â”œâ”€â”€ public/
â”‚   â””â”€â”€ index.html            # PÃ gina HTML principal
â”œâ”€â”€ package.json
â”œâ”€â”€ vite.config.js
â””â”€â”€ Dockerfile
```

---

### 3ï¸âƒ£ Flux general dâ€™implementaciÃ³

ğŸ”¹ **1. InicialitzaciÃ³ del projecte**

- Crear el projecte amb `npm create vue@latest` o `npm create vite@latest`.
- Configurar lâ€™estructura de carpetes segons bones prÃ ctiques.

ğŸ”¹ **2. CreaciÃ³ de components bÃ sics**

- `Navbar.vue`, `Footer.vue`, `CardProducte.vue`, etc.
- Utilitzar **props** per passar dades i **events** (`@click`, `@submit`) per comunicar components.

ğŸ”¹ **3. DefiniciÃ³ de rutes SPA**

- InstalÂ·lar `vue-router` i definir rutes sense recÃ rrega.

ğŸ”¹ **4. IntegraciÃ³ amb el backend (API REST)**

- Utilitzar `fetch` o `axios` per recuperar i enviar dades a lâ€™API.
- Mostrar dades dinÃ micament amb `v-for`, `v-if` i `computed`.

ğŸ”¹ **5. GestiÃ³ dâ€™estat i autenticaciÃ³**

- Utilitzar **Pinia** per compartir dades entre components.
- Implementar rutes protegides i redireccions desprÃ©s del login.

ğŸ”¹ **6. OptimitzaciÃ³ i desplegament**

- Compilar lâ€™aplicaciÃ³ per a producciÃ³ amb `npm run build`.
- Integrar el frontend amb Nginx o el contenidor Docker corresponent.

---

### 4ï¸âƒ£ InterfÃ­cie i experiÃ¨ncia dâ€™usuari

ğŸ¨ **Disseny modern i coherent** 
ğŸ§­ **NavegaciÃ³ sense recÃ rrega** 
âš¡ **Respostes instantÃ nies** 
ğŸ“± **Disseny responsive** 
ğŸï¸ **Transicions suaus entre vistes**

---

### 5ï¸âƒ£ Bones prÃ ctiques

ğŸ§± **Modularitat** Â· ğŸ” **Seguretat** Â· â™»ï¸ **Reactivitat controlada** Â· ğŸ’¬ **Feedback visual** Â· ğŸ§  **OrganitzaciÃ³ del codi** Â· ğŸ“ **GestiÃ³ dâ€™estat neta**

---

### 6ï¸âƒ£ Estat del desenvolupament

#### ğŸŸ¦ To Do

- Crear projecte amb Vite.
- Definir rutes i components bÃ sics.
- Configurar comunicaciÃ³ amb API REST.

#### ğŸŸ¨ In Progress

- IntegraciÃ³ amb backend (login, productes, comentaris).
- Afegir animacions i transicions.
- GestiÃ³ dâ€™estat global i autenticaciÃ³.

#### ğŸŸ© Done

- NavegaciÃ³ SPA funcional.
- Components modulars operatius.
- IntegraciÃ³ visual amb backend i estils coherents.
- OptimitzaciÃ³ i desplegament complet amb Docker.

---

## C2. ğŸ” IntegraciÃ³ de lâ€™autenticaciÃ³ mitjanÃ§ant API

### 1ï¸âƒ£ Objectius (amb mapeig DWEC)

Implementar lâ€™autenticaciÃ³ de lâ€™usuari des del **client Vue 3** comunicant-se amb el **servidor Laravel** mitjanÃ§ant **crides HTTP asÃ­ncrones** amb Axios.  
Lâ€™aplicaciÃ³ ha de gestionar de manera segura les **sessions, tokens o cookies**, i **actualitzar la interfÃ­cie** segons lâ€™estat dâ€™autenticaciÃ³.

**ReferÃ¨ncia DWEC:**

- **RA7.f:** Implementa mecanismes de seguretat en aplicacions web del costat client.

---

### 2ï¸âƒ£ Requisits previs

- API Laravel amb endpoints:
  - `POST /api/login`
  - `POST /api/logout`
  - `GET /api/user` (usuari autenticat)
- AutenticaciÃ³ basada en **token (Bearer)** o **cookie de sessiÃ³**.
- Front-end Vue 3 amb **Axios**, **Pinia**, **Vue Router** i **persistÃ¨ncia local** (`localStorage` o `sessionStorage`).

---

### 3ï¸âƒ£ Estructura de projecte (mÃ²dul `auth`)

```text
src/
â”œâ”€ modules/
â”‚  â”œâ”€ auth/
â”‚  â”‚  â”œâ”€ views/
â”‚  â”‚  â”‚  â”œâ”€ LoginView.vue
â”‚  â”‚  â”‚  â”œâ”€ RegisterView.vue (opcional)
â”‚  â”‚  â”‚  â””â”€ ProfileView.vue
â”‚  â”‚  â”œâ”€ components/
â”‚  â”‚  â”‚  â”œâ”€ AuthForm.vue
â”‚  â”‚  â”‚  â””â”€ LogoutButton.vue
â”‚  â”‚  â”œâ”€ store.js              # Pinia store per a auth
â”‚  â”‚  â”œâ”€ api.js                # Funcions Axios: login, logout, getUser
â”‚  â”‚  â””â”€ guards.js             # Router guards per a rutes protegides
â”‚  â””â”€ ...
â”œâ”€ services/
â”‚  â””â”€ http.js                  # InstÃ ncia Axios + interceptors
â””â”€ stores/
   â””â”€ uiStore.js               # estat global (loading, toasts, etc.)
```

> **RA7.f:** la seguretat es centralitza i sâ€™abstrau (no es manipulen tokens directament en components).

---

### 4ï¸âƒ£ Flux dâ€™autenticaciÃ³

#### ğŸ”¹ Login

1. Lâ€™usuari ompli el formulari de login (`AuthForm.vue`).
2. `authStore.login(credentials)` â†’ `authApi.login()`.
3. El servidor Laravel retorna:
   - Token JWT â†’ sâ€™emmagatzema en `localStorage`.
   - o cookie HTTP-only (si estÃ  configurat aixÃ­).
4. `authStore` actualitza lâ€™estat (`isAuthenticated = true`) i guarda `user`.
5. El router redirigeix a `/dashboard` o `/profile`.

#### ğŸ”¹ Logout

1. `authStore.logout()` â†’ `authApi.logout()`.
2. Es netegen el token i lâ€™usuari de `store` i `localStorage`.
3. Es redirigeix a `/login`.

#### ğŸ”¹ Refresh / PersistÃ¨ncia

En muntar lâ€™aplicaciÃ³ (`App.vue`) o en un guard del router:

- Si hi ha token vÃ lid â†’ crida `authApi.getUser()` i restaura lâ€™estat.
- Si no â†’ redirigeix a `/login` (si la ruta Ã©s protegida).

---

### 5ï¸âƒ£ Pinia Store: `authStore.js` (exemple)

```js
import { defineStore } from 'pinia'
import { login, logout, getUser } from './api'

export const useAuthStore = defineStore('auth', {
  state: () => ({
    user: null,
    token: localStorage.getItem('token') || null,
    isAuthenticated: !!localStorage.getItem('token')
  }),

  actions: {
    async login(credentials) {
      const { token, user } = await login(credentials)
      this.user = user
      this.token = token
      this.isAuthenticated = true
      localStorage.setItem('token', token)
    },

    async logout() {
      await logout()
      this.user = null
      this.token = null
      this.isAuthenticated = false
      localStorage.removeItem('token')
    },

    async fetchUser() {
      const user = await getUser()
      this.user = user
    }
  }
})
```

---

### 6ï¸âƒ£ Servei HTTP i interceptors

```js
import axios from 'axios'
import { useAuthStore } from '@/modules/auth/store'

const http = axios.create({
  baseURL: 'http://localhost:8000/api',
  // Permet enviar cookies (si uses sessions/CSRF amb cookies)
  withCredentials: true
})

// Afegir token a cada peticiÃ³ (abans de cada request)
http.interceptors.request.use((config) => {
  const auth = useAuthStore()
  if (auth.token) {
    config.headers.Authorization = `Bearer ${auth.token}`
  }
  return config
})

// GestiÃ³ dâ€™errors globals (401, 403)
http.interceptors.response.use(
  // Si tot va bÃ©, retorna la resposta tal qual
  (response) => response,
  (error) => {
    const auth = useAuthStore()
    // Si hi ha un 401 (No autoritzat), tanquem sessiÃ³
    if (error.response?.status === 401) {
      auth.logout()
    }
    // Rebutgem la promesa perquÃ¨ els .catch() la puguen gestionar
    return Promise.reject(error)
  }
)

export default http
```

> **RA7.f:** gestiÃ³ segura del token, interceptors centralitzats, protecciÃ³ davant accÃ©s no autoritzat.

---

### 7ï¸âƒ£ Rutes protegides (guards)

```js
router.beforeEach((to, from, next) => {
  // to   â†’ ruta destinaciÃ³
  // from â†’ ruta actual
  // next â†’ continuar / redirigir / cancelÂ·lar
  const auth = useAuthStore()

  // Si la ruta Ã©s protegida i lâ€™usuari no estÃ  autenticat
  if (to.meta.requiresAuth && !auth.isAuthenticated) {
    next('/login')
  } else {
    next()
  }
})
```

- Rutes com `/dashboard`, `/orders`, `/profile` han dâ€™estar protegides des del Vue Router amb `meta.requiresAuth = true`.
- Rutes pÃºbliques: `/login`, `/register`, `/about`.

---

### 8ï¸âƒ£ ActualitzaciÃ³ dinÃ mica de la interfÃ­cie

- Mostrar diferent **navbar** segons `auth.isAuthenticated`.
- Protegir seccions (botons o formularis) si lâ€™usuari no estÃ  connectat.
- Mostrar nom dâ€™usuari o avatar desprÃ©s del login.
- En logout, el contingut privat desapareix sense recarregar la pÃ gina.

> **RA7.f:** la UI reacciona a lâ€™estat de seguretat de manera immediata.

---

### 9ï¸âƒ£ Seguretat (client)

- No guardar contrasenyes en cap variable persistent.
- Token nomÃ©s en **localStorage** (si no es pot usar cookie HTTP-only).
- Tancar sessiÃ³ automÃ ticament en 401.
- Evitar exposar dades sensibles al DOM.
- Afegir `timeout` en peticions Axios i tractar errors de xarxa.

---

### ğŸ”Ÿ Testing i validaciÃ³

- **Proves dâ€™integraciÃ³** del flux login/logout (amb API mockejada).
- **Tests unitaris** per a `authStore` i `api.js`.
- **Proves E2E (Cypress o Playwright)** per simular un login real en navegador.
- **Lint i auditoria** de dependÃ¨ncies (vulnerabilitats).

---

### 1ï¸âƒ£1ï¸âƒ£ Estat del desenvolupament

#### ğŸŸ¦ To Do

- Crear endpoints dâ€™autenticaciÃ³ al backend Laravel (`/login`, `/logout`, `/user`).
- Configurar la instÃ ncia **Axios** amb interceptors i `baseURL` comuna.
- Implementar formulari de **LoginView.vue** i validacions bÃ siques.
- Definir **router guards** per a rutes protegides.

#### ğŸŸ¨ In Progress

- Desenvolupament del **Pinia store (`authStore`)** amb gestiÃ³ de token i usuari.
- IntegraciÃ³ amb lâ€™API real de Laravel i proves de resposta HTTP.
- ActualitzaciÃ³ dinÃ mica del **navbar** i del contingut segons lâ€™estat de sessiÃ³.
- Afegir feedback visual (toasts, loading, errors dâ€™autenticaciÃ³).

#### ğŸŸ© Done

- Arquitectura bÃ sica del mÃ²dul `auth/` creada (views, components, api, store).
- NavegaciÃ³ SPA funcional amb redireccions desprÃ©s de login/logout.
- GestiÃ³ dâ€™errors globals (401/403) i tancament automÃ tic de sessiÃ³.
- SessiÃ³ persistent amb token al `localStorage` i restauraciÃ³ en reobrir lâ€™app.

---

## C3. ğŸ‘¥ GestiÃ³ de rols dâ€™usuari i permisos

### 1ï¸âƒ£ Objectius (amb mapeig DWEC i DWES)

Implementar un sistema de **gestiÃ³ de rols i permisos** que permeta diferenciar funcionalitats segons el tipus dâ€™usuari.  
Lâ€™aplicaciÃ³ ha de garantir que **nomÃ©s els usuaris autoritzats** poden accedir a determinades rutes, opcions o accions tant al **backend (Laravel)** com al **frontend (Vue 3)**.

**ReferÃ¨ncies:**

- **DWEC RA4.h:** Control dâ€™accÃ©s i gestiÃ³ de permisos en aplicacions web.
- **DWES RA7.e:** GestiÃ³ de seguretat en lâ€™accÃ©s a dades i funcionalitats.
- **DWES RA7.f:** RestricciÃ³ dâ€™operacions segons rols dâ€™usuari.
- **DWES RA7.g:** ValidaciÃ³ i protecciÃ³ dâ€™endpoints dâ€™API.
- **DWES RA7.h:** ImplementaciÃ³ dâ€™autenticaciÃ³ i autoritzaciÃ³ en entorns web.

---

### 2ï¸âƒ£ Requisits previs

- API Laravel amb **middleware dâ€™autenticaciÃ³ i autoritzaciÃ³** (`auth:sanctum`, `can`, `role` o policies).
- Models i relacions de base de dades:
  - `users`
  - `roles`
  - `role_user` (taula pivot)
- Rols principals:
  - **Administrador (gerent):** accÃ©s complet a lâ€™aplicaciÃ³ i a la gestiÃ³ de tots els recursos.
  - **Venedor:** pot crear, editar i eliminar els seus propis productes.
  - **Editor:** gestiona comentaris i continguts publicats per altres usuaris.
  - **Usuari bÃ sic:** accÃ©s nomÃ©s a funcionalitats pÃºbliques o de consulta.
- Front-end Vue 3 amb **Pinia**, **Axios**, **Vue Router** i components visuals condicionals segons el rol.

---

### 3ï¸âƒ£ Estructura de projecte (mÃ²dul `roles`)

```text
src/
â”œâ”€ modules/
â”‚  â”œâ”€ roles/
â”‚  â”‚  â”œâ”€ composables/
â”‚  â”‚  â”‚  â””â”€ useRole.js            # composable amb helpers de verificaciÃ³ de rols
â”‚  â”‚  â”œâ”€ components/
â”‚  â”‚  â”‚  â”œâ”€ RoleGuard.vue         # mostra o oculta contingut segons rol/permisos
â”‚  â”‚  â”‚  â””â”€ RoleBadge.vue         # etiqueta visual del rol (Admin, Vendor, etc.)
â”‚  â”‚  â”œâ”€ views/
â”‚  â”‚  â”‚  â””â”€ RoleManagementView.vue (per a admins/gerents)
â”‚  â”‚  â”œâ”€ store.js                 # Pinia store per a rols i permisos (opcional)
â”‚  â”‚  â””â”€ api.js                   # crides Axios per obtindre/modificar rols (opcional)
â”‚  â””â”€ ...
â”œâ”€ router/
â”‚  â””â”€ guards/roleGuard.js         # redirecciÃ³ segons permisos de lâ€™usuari
â””â”€ services/
   â””â”€ http.js                     # instÃ ncia Axios amb interceptors i auth
```

> **DWES RA7.eâ€“RA7.h:** estructura modular que separa la lÃ²gica dâ€™autoritzaciÃ³ i evita accessos no autoritzats des del client.

---

### 4ï¸âƒ£ Model de rols i permisos

| Rol | DescripciÃ³ | Accions permeses |
|---|---|---|
| **Administrador / Gerent** | Control total de lâ€™aplicaciÃ³ | CRUD complet, gestiÃ³ dâ€™usuaris, productes i comentaris |
| **Venedor** | Administra els seus productes | Crear, editar i eliminar productes propis |
| **Editor** | Gestiona contingut i comentaris | Moderar i eliminar comentaris, editar descripcions |
| **Usuari** | Consumidor final | Consultar productes, comentar, editar perfil |

---

### 5ï¸âƒ£ Flux dâ€™autoritzaciÃ³ al backend (Laravel)

1. **Middleware `auth:sanctum`** valida la sessiÃ³ o el token.
2. Cada endpoint incorpora **polÃ­tiques (Policy)** o middleware `role:` que limiten lâ€™accÃ©s segons el rol.
3. Els controladors Laravel criden mÃ¨todes com `authorize('update', $product)` o `Gate::allows(...)`.
4. El backend respon amb codi `403 Forbidden` si lâ€™usuari no tÃ© permisos suficients.

> **DWES RA7.g:** protecciÃ³ granular dâ€™endpoints de lâ€™API per rols i accions.

---

### 6ï¸âƒ£ Flux dâ€™autoritzaciÃ³ al frontend (Vue 3)

1. DesprÃ©s del login, el servidor envia el **rol de lâ€™usuari** dins del token o dins de lâ€™objecte `user`.
2. El `authStore` guarda `user.role` (Pinia).
3. El router utilitza un **guard de rol** abans dâ€™accedir a rutes restringides:

```js
router.beforeEach((to, from, next) => {
  const auth = useAuthStore()

  // Si la ruta defineix rols permesos i el rol actual no estÃ  dins
  if (to.meta.roles && !to.meta.roles.includes(auth.user?.role)) {
    next('/forbidden')
  } else {
    next()
  }
})
```

4. En components, sâ€™utilitza `v-if="can('delete')"` o un component `<RoleGuard>` per amagar funcionalitats no permeses.

> **DWEC RA4.h / DWES RA7.f:** gestiÃ³ visual i lÃ²gica dels permisos a nivell de component i ruta.

---

### 7ï¸âƒ£ Composable `useRole.js`

```js
import { storeToRefs } from 'pinia'
import { useAuthStore } from '@/modules/auth/store'

export function useRole() {
  // Convertim propietats del store a refs reactives
  const { user } = storeToRefs(useAuthStore())

  const can = (permission) => {
    // Llegim el rol de lâ€™usuari actual
    const role = user.value?.role

    const rules = {
      admin: ['create', 'edit', 'delete', 'moderate'],
      vendor: ['create', 'edit', 'delete'],
      editor: ['moderate'],
      user: ['read']
    }

    // Retorna true si el permÃ­s estÃ  dins de les regles del rol
    return rules[role]?.includes(permission) ?? false
  }

  return { can }
}
```

**Exemple dâ€™Ãºs en un component Vue (SFC):**

```vue
<script setup>
import { useRole } from '@/modules/roles/composables/useRole'

const { can } = useRole()
</script>

<template>
  <!-- Si el rol ho permet, apareix el botÃ³ -->
  <button v-if="can('delete')">Eliminar</button>
</template>
```

> **DWEC RA4.h:** encapsulaciÃ³ de la lÃ²gica dâ€™autoritzaciÃ³ per a Ãºs en tota la interfÃ­cie.

---

### 8ï¸âƒ£ Components de control visual

- **`<RoleGuard>`:** component dâ€™ordre superior per ocultar contingut segons permisos.
- **`<RoleBadge>`:** etiqueta visual que indica el rol actual.
- **MenÃºs dinÃ mics:** elements del menÃº principal controlats per `v-if="auth.user?.role === 'admin'"`.

> **DWES RA7.h:** retroalimentaciÃ³ visual clara segons el nivell dâ€™autoritzaciÃ³.

---

### 9ï¸âƒ£ Testing i validaciÃ³

- **Tests unitaris (Vitest):** verificaciÃ³ de `useRole().can()` per a cada tipus dâ€™usuari.
- **Tests dâ€™integraciÃ³:** comprovaciÃ³ de visibilitat dâ€™opcions en components segons rol.
- **E2E (Cypress o Playwright):** comprovaciÃ³ dâ€™accÃ©s restringit a rutes protegides i flux de login real.
- **Simulacions dâ€™API:** respostes 403 i redireccions automÃ tiques.

---

### ğŸ”Ÿ Bones prÃ ctiques de seguretat

- No confiar en la validaciÃ³ del front-end: totes les restriccions tambÃ© sâ€™apliquen al backend.
- Limitar la informaciÃ³ retornada per lâ€™API segons rol (principi de mÃ­nim privilegi).
- Verificar rols a cada peticiÃ³ (`authorize`, `Gate`, `Policy`).
- Controlar excepcions i mostrar missatges dâ€™error clars perÃ² no massa detallats (per evitar fugues dâ€™informaciÃ³).

---

### 1ï¸âƒ£1ï¸âƒ£ Estat del desenvolupament

#### ğŸŸ¦ To Do

- Definir taules i relacions de rols al backend (Laravel).
- Crear middleware i policies per al control dâ€™accÃ©s.
- Configurar `meta.roles` a les rutes Vue.
- Dissenyar components `RoleGuard` i `RoleBadge`.

#### ğŸŸ¨ In Progress

- ImplementaciÃ³ del **composable `useRole()`** i proves de permisos.
- IntegraciÃ³ amb el **Pinia `authStore`** per llegir el rol autenticat.
- Control visual de menÃºs i seccions segons rol.
- ValidaciÃ³ de respostes 403 i tractament dâ€™errors al client.

#### ğŸŸ© Done

- Model base de rols creat a Laravel i associacions correctes.
- AssignaciÃ³ de rols a usuaris i proves amb API REST.
- Control dâ€™accÃ©s funcional en rutes i components Vue.
- GestiÃ³ visual coherent segons el rol dâ€™usuari.

